type: conditional
conditions:
  - entity: calendar.next_lifting
    state: 'on'
row:
  type: custom:config-template-card
  variables:
    COUNT: states['sensor.lifting_sessions_today'].state
  entities:
    - sensor.lifting_sessions_today
  row:
    type: custom:bar-card
    entity: sensor.lifting_sessions_today
    icon: mdi:weight-lifter
    name: "${parseInt(COUNT) >= 1 ? 'DONE! (' + COUNT + ' sessions)' : ''}"
    min: 0
    max: 1
    entity_row: true
    positions:
      value: 'off'
    severity:
      - from: 0
        to: 0.99
        color: darkred
      - from: 1
        to: 100
        color: darkgreen
    style: |
      bar-card-contentbar {
        font-weight: bold;
        color: gold;
      }
      bar-card-name {
        margin-left: 10px;
      }
      bar-card-currentbar {
        border-radius: 10px;
      }
      bar-card-backgroundbar {
        border-radius: 10px;
      }