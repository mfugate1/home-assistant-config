- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_01
  sensor: &sensor
    - unique_id: garmin_challenge_01
      name: "{{ trigger.json.name if 'name' in trigger.json else '' }}"
      state: "{{ trigger.json.state if 'state' in trigger.json else '' }}"
      picture: "{{ trigger.json.image_url if 'image_url' in trigger.json else '' }}"
      icon: "{{ trigger.json.icon if 'icon' in trigger.json else '' }}"
      attributes: 
        start_date: "{{ trigger.json.start_date if 'start_date' in trigger.json else '' }}"
        end_date: "{{ trigger.json.end_date if 'end_date' in trigger.json else '' }}"
        description: "{{ trigger.json.description if 'description' in trigger.json else '' }}"
        current_progress: "{{ trigger.json.current_progress if 'current_progress' in trigger.json else '' }}"
        goal: "{{ trigger.json.goal if 'goal' in trigger.json else '' }}"
        units: "{{ trigger.json.units if 'units' in trigger.json else '' }}"
        user: "{{ trigger.json.user if 'user' in trigger.json else '' }}"
        activity_type: "{{ trigger.json.activity_type if 'activity_type' in trigger.json else '' }}"
        type: "{{ trigger.json.type if 'type' in trigger.json else '' }}"
        current_progress_display: "{{ trigger.json.current_progress_display if 'current_progress_display' in trigger.json else '' }}"
        progress_raw: "{{ trigger.json.progress_raw if 'progress_raw' in trigger.json else '' }}"
        url: "{{ trigger.json.url if 'url' in trigger.json else '' }}"

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_02
  sensor: 
    - <<: *sensor
      unique_id: garmin_challenge_02

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_03
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_03

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_04
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_04

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_05
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_05

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_06
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_06

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_07
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_07

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_08
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_08

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_09
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_09

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_10
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_10

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_11
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_11

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_12
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_12

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_13
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_13

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_14
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_14

- trigger:
    - platform: webhook
      webhook_id: !secret garmin_challenge_15
  sensor:
    - <<: *sensor
      unique_id: garmin_challenge_15